import{br as R,bt as P,bu as D,bs as F,bv as Q,bw as z}from"./index-981508a6.js";import{A as $,f as N,o,B as k,Q as n,J as e,u as r,c,O as y,M as I,P as S,aC as U,r as t,_ as g,a2 as V,F as A,L,D as M}from"./_plugin-vue_export-helper-60a1b51b.js";const j={class:"home-header"},q=U('<span class="home-header-logo" data-v-a27f5a15><i class="iconfont icon-vue" data-v-a27f5a15></i><i class="iconfont icon-icon-test" data-v-a27f5a15></i><i class="iconfont icon-typescript" data-v-a27f5a15></i></span><span class="home-header-title" data-v-a27f5a15>在线考勤系统</span>',2),G=$({__name:"HomeHeader",setup(B){const v=F(),u=R(),x=P(),{infos:h}=D(u),{info:a}=D(x),m=N(()=>{var s;return(s=h.value)==null?void 0:s.head}),b=N(()=>{var s;return(s=h.value)==null?void 0:s.name}),l=N(()=>a.value.applicant||a.value.approver),w=()=>{u.clearToken(),setTimeout(()=>{window.location.replace("/login")},500)},f=s=>{v.push(s)};return(s,d)=>{const C=t("Bell"),p=t("el-icon"),i=t("el-badge"),_=t("el-dropdown-item"),H=t("el-dropdown-menu"),T=t("el-dropdown"),E=t("el-avatar"),J=t("el-space");return o(),k("div",j,[q,n(T,null,{dropdown:e(()=>[n(H,null,{default:e(()=>[r(a).applicant?(o(),c(_,{key:0,onClick:d[0]||(d[0]=O=>f("/apply"))},{default:e(()=>[y("有审批结果消息")]),_:1})):I("",!0),r(a).approver?(o(),c(_,{key:1,onClick:d[1]||(d[1]=O=>f("/check"))},{default:e(()=>[y("有审批请求消息")]),_:1})):I("",!0),!r(a).applicant&&!r(a).approver?(o(),c(_,{key:2},{default:e(()=>[y("暂无消息")]),_:1})):I("",!0)]),_:1})]),default:e(()=>[n(i,{"is-dot":r(l)},{default:e(()=>[n(p,{size:20},{default:e(()=>[n(C)]),_:1})]),_:1},8,["is-dot"])]),_:1}),n(T,null,{dropdown:e(()=>[n(H,null,{default:e(()=>[n(_,null,{default:e(()=>[y("个人中心")]),_:1}),n(_,{onClick:w},{default:e(()=>[y("退出")]),_:1})]),_:1})]),default:e(()=>[n(J,{class:"home-header-space"},{default:e(()=>[n(E,{src:r(m)},null,8,["src"]),y(" "+S(r(b)),1)]),_:1})]),_:1})])}}});const K=g(G,[["__scopeId","data-v-a27f5a15"]]),W=$({__name:"HomeAside",setup(B){var b;const v=R(),{infos:u}=D(v),x=F(),h=z(),a=(b=u.value)==null?void 0:b.permission,m=Q.cloneDeep(x.options.routes).filter(l=>{var w,f;return l.children=(w=l.children)==null?void 0:w.filter(s=>{var d;return((d=s.meta)==null?void 0:d.menu)&&a.includes(s.name)}),((f=l.meta)==null?void 0:f.menu)&&a.includes(l.name)});return(l,w)=>{const f=t("el-icon"),s=t("el-menu-item"),d=t("el-sub-menu"),C=t("el-menu");return o(),c(C,{"default-active":r(h).path,router:""},{default:e(()=>[(o(!0),k(A,null,V(r(m),p=>(o(),c(d,{key:p.path,index:p.path},{title:e(()=>{var i;return[n(f,null,{default:e(()=>{var _;return[(o(),c(L((_=p.meta)==null?void 0:_.icon)))]}),_:2},1024),M("span",null,S((i=p.meta)==null?void 0:i.title),1)]}),default:e(()=>[(o(!0),k(A,null,V(p.children,i=>(o(),c(s,{key:p.path+i.path,index:p.path+i.path},{default:e(()=>{var _;return[n(f,null,{default:e(()=>{var H;return[(o(),c(L((H=i.meta)==null?void 0:H.icon)))]}),_:2},1024),M("span",null,S((_=i.meta)==null?void 0:_.title),1)]}),_:2},1032,["index"]))),128))]),_:2},1032,["index"]))),128))]),_:1},8,["default-active"])}}});const X=g(W,[["__scopeId","data-v-a5fb9eb0"]]),Y=$({__name:"HomeBreadcrumb",setup(B){const v=z(),u=N(()=>v.matched);return(x,h)=>{const a=t("el-breadcrumb-item"),m=t("el-breadcrumb");return o(),c(m,{separator:"/"},{default:e(()=>[(o(!0),k(A,null,V(r(u),b=>(o(),c(a,{key:b.path},{default:e(()=>{var l;return[y(S((l=b.meta)==null?void 0:l.title),1)]}),_:2},1024))),128))]),_:1})}}});const Z=g(Y,[["__scopeId","data-v-4573c62d"]]);const ee={},ne={class:"home-main"};function te(B,v){const u=t("router-view");return o(),k("div",ne,[n(u)])}const oe=g(ee,[["render",te],["__scopeId","data-v-3a6ad7f3"]]),ae=$({__name:"Home",setup(B){return(v,u)=>{const x=t("el-header"),h=t("el-aside"),a=t("el-main"),m=t("el-container");return o(),c(m,null,{default:e(()=>[n(x,null,{default:e(()=>[n(K)]),_:1}),n(m,null,{default:e(()=>[n(h,null,{default:e(()=>[n(X)]),_:1}),n(a,null,{default:e(()=>[n(Z),n(oe)]),_:1})]),_:1})]),_:1})}}});const ce=g(ae,[["__scopeId","data-v-f30546a0"]]);export{ce as default};
